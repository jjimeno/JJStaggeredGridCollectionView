//
//  GettyImagesService.swift
//  JJLStaggeredGridCollectionViewExample
//
//  Created by Jose Jimeno Linares on 21/2/17.
//  Copyright Â© 2017 JJL. All rights reserved.
//

import Foundation
import Moya

enum GettyImagesServices
{
    case searchImages(search:String, pageSize:Int , numPage : Int )
}

extension GettyImagesServices: TargetType
{
    var baseURL: URL { return URL(string: "https://api.gettyimages.com/v3")!}
    
    var path: String{
        switch self{
        case .searchImages:
            return "/search/images"
        }
    }
    
    var method: Moya.Method {
        switch self {
        case .searchImages:
            return .get
        }
    }
    
    var parameters: [String : Any]?{
        switch self {
        case .searchImages(let search, let pageSize, let numPage):
            return ["phrase" : search, "page_size" : pageSize, "page" : numPage]
        }
    }
    
    var parameterEncoding: ParameterEncoding
    {
        switch self {
        case .searchImages:
            return URLEncoding.default
        }
    }
    
    var task: Task
    {
        switch self {
        case .searchImages:
            return .request
        }
    }
    
    var sampleData : Data {
        switch self {
        case .searchImages:
            return "{\"result_count\":183917,\"images\":[{\"id\":\"570140349\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"ROF\",\"collection_id\":783,\"collection_name\":\"RooM\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/570140349.jpg?v=1&g=fs1|0|ROF|40|349&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3840,\"width\":5760},\"title\":\"Young woman sitting on a skateboard, Seville, Spain\"},{\"id\":\"475458153\",\"asset_family\":\"creative\",\"caption\":\"young brunette girl wearing a hat and a classy jacket standing in the light and smiling while looking away in the middle of the forest\",\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/475458153.jpg?v=1&g=fs1|0|FPG|58|153&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3467,\"width\":5200},\"title\":\"brunette girl with hat standing in forest light\"},{\"id\":\"512904748\",\"asset_family\":\"creative\",\"caption\":\"Creative businessman showing the latest application he developed.\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/512904748.jpg?v=1&g=fs1|0|EPL|04|748&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":5773,\"width\":8660},\"title\":\"Showing the final product app on the mobile phone\"},{\"id\":\"557715885\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/557715885.jpg?v=1&g=fs1|0|FPG|15|885&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3480,\"width\":5220},\"title\":\"Two friends chatting in coffee shop window\"},{\"id\":\"494279340\",\"asset_family\":\"creative\",\"caption\":\"Group of young business people working. They are working at a long table with several computers and wireless devices. All are casually dressed. Could be a graphic design studio or small business. Wide angle shot with copy space\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/494279340.jpg?v=1&g=fs1|0|EPL|79|340&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3283,\"width\":4932},\"title\":\"Group of young business people working.\"},{\"id\":\"510011460\",\"asset_family\":\"creative\",\"caption\":\"Young woman with smart phone in Barcelona, technology.\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/510011460.jpg?v=1&g=fs1|0|EPL|11|460&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":5760,\"width\":3840},\"title\":\"Young woman with smart phone in Barcelona, technology.\"},{\"id\":\"455611861\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/455611861.jpg?v=1&g=fs1|0|DV|11|861&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3840,\"width\":5760},\"title\":\"Young handsome man sitting in car\"},{\"id\":\"627081270\",\"asset_family\":\"creative\",\"caption\":\"Vintage toned portrait of a young woman in Berlin, wearing a black leather jacket and a beige skirt, walking down the street in Berlin  Kreuzberg district in the late Autumn day, shopping on the street market. Street style, casual fashion concept.\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/627081270.jpg?v=1&g=fs1|0|EPL|81|270&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3648,\"width\":5472},\"title\":\"Berlin street style shopping\"},{\"id\":\"514136469\",\"asset_family\":\"creative\",\"caption\":\"Shot of a stylish business man\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/514136469.jpg?v=1&g=fs1|0|DV|36|469&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4912,\"width\":7360},\"title\":\"From style to success...\"},{\"id\":\"181802878\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/181802878.jpg?v=1&g=fs1|0|FPG|02|878&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3467,\"width\":5200},\"title\":\"Two young men racing on skateboards\"},{\"id\":\"527946635\",\"asset_family\":\"creative\",\"caption\":\"Portrait of young bearded man with tattooed arms in red and blue check shirt and beanie, laughing with head back and eyes shut\",\"collection_code\":\"TSIR\",\"collection_id\":41,\"collection_name\":\"Stone\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/527946635.jpg?v=1&g=fs1|0|TSIR|46|635&s=1&b=NUZB\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3823,\"width\":4574},\"title\":\"Tattooed young male in check shirt laughing.\"},{\"id\":\"157738160\",\"asset_family\":\"creative\",\"caption\":\"Portrait of a young man and woman pulling funny faces and messing around, standing in front of a rustic background.\",\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/157738160.jpg?v=1&g=fs1|0|FPG|38|160&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3467,\"width\":5200},\"title\":\"Portrait of two young people pulling funny faces\"},{\"id\":\"487464332\",\"asset_family\":\"creative\",\"caption\":\"Very active senior man, surfing on a wave with a surfboard\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/487464332.jpg?v=1&g=fs1|0|EPL|64|332&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3000,\"width\":4000},\"title\":\"Forever young\"},{\"id\":\"566155145\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/566155145.jpg?v=1&g=fs1|0|FPG|55|145&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3467,\"width\":5200},\"title\":\"Couple kissing in park\"},{\"id\":\"153531662\",\"asset_family\":\"creative\",\"caption\":\"Group of friends on rooftop of building talking and drinking at sunset cityscape in background\",\"collection_code\":\"ICO\",\"collection_id\":117,\"collection_name\":\"Iconica\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/153531662.jpg?v=1&g=fs1|0|ICO|31|662&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3480,\"width\":5220},\"title\":\"Group of friends on rooftop talking and drinking\"},{\"id\":\"478671289\",\"asset_family\":\"creative\",\"caption\":\"Shot of an empty coffee shop\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/478671289.jpg?v=1&g=fs1|0|DV|71|289&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4912,\"width\":6960},\"title\":\"Your local coffee shop\"},{\"id\":\"456542579\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"FPG\",\"collection_id\":9,\"collection_name\":\"Taxi\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/456542579.jpg?v=1&g=fs1|0|FPG|42|579&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3470,\"width\":5200},\"title\":\"Father and son looking up\"},{\"id\":\"514136509\",\"asset_family\":\"creative\",\"caption\":\"Shot of a stylish businessman\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/514136509.jpg?v=1&g=fs1|0|DV|36|509&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4912,\"width\":7360},\"title\":\"Let's talk business\"},{\"id\":\"592014825\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"IMS\",\"collection_id\":64,\"collection_name\":\"Image Source\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/592014825.jpg?v=1&g=fs1|0|IMS|14|825&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3667,\"width\":5500},\"title\":\"Young man taking selfie on street, Le Plateau, Montreal, Quebec, Canada\"},{\"id\":\"497158353\",\"asset_family\":\"creative\",\"caption\":\"A handsome young father teaching his young son to drum\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/497158353.jpg?v=1&g=fs1|0|DV|58|353&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4912,\"width\":6379},\"title\":\"Listen....can you hear it?\"},{\"id\":\"520287106\",\"asset_family\":\"creative\",\"caption\":\"Young woman resting on the dock on the lake with mobile phone .\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache2.asset-cache.net/xt/520287106.jpg?v=1&g=fs1|0|EPL|87|106&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4016,\"width\":6016},\"title\":\"Resting and enjoy the sunset\"},{\"id\":\"536987275\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"CUX\",\"collection_id\":851,\"collection_name\":\"Cultura Exclusive\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/536987275.jpg?v=1&g=fs1|0|CUX|87|275&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3744,\"width\":5616},\"title\":\"Female friends photographing themselves on smartphone\"},{\"id\":\"514565420\",\"asset_family\":\"creative\",\"caption\":\"Young man and woman skating through the office and having fun\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/514565420.jpg?v=1&g=fs1|0|EPL|65|420&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3840,\"width\":5760},\"title\":\"Employees skating through the office\"},{\"id\":\"514408899\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"BLM\",\"collection_id\":548,\"collection_name\":\"Blend Images\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/514408899.jpg?v=1&g=fs1|0|BLM|08|899&s=1&b=RjI4\"}],\"license_model\":\"rightsmanaged\",\"max_dimensions\":{\"height\":3400,\"width\":5100},\"title\":\"Friends sitting outside coffee shop on city street\"},{\"id\":\"511283007\",\"asset_family\":\"creative\",\"caption\":\"Portrait of a young woman standing outdoors\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache4.asset-cache.net/xt/511283007.jpg?v=1&g=fs1|0|EPL|83|007&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3922,\"width\":6220},\"title\":\"She's a confident woman\"},{\"id\":\"489808287\",\"asset_family\":\"creative\",\"caption\":\"A young man using a mobile phone with his friends standing in the background\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/489808287.jpg?v=1&g=fs1|0|DV|08|287&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":4912,\"width\":7360},\"title\":\"Arranging a date for the weekend\"},{\"id\":\"185743031\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"IMS\",\"collection_id\":64,\"collection_name\":\"Image Source\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache3.asset-cache.net/xt/185743031.jpg?v=1&g=fs1|0|IMS|43|031&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3470,\"width\":5200},\"title\":\"Young businessman carrying skateboard and crossing street\"},{\"id\":\"525346784\",\"asset_family\":\"creative\",\"caption\":\"Multi ethnic group of cool young people sitting at the table and working together, using laptop, computer, discussing.\",\"collection_code\":\"EPL\",\"collection_id\":712,\"collection_name\":\"E+\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/525346784.jpg?v=1&g=fs1|0|EPL|46|784&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3776,\"width\":5663},\"title\":\"Co-workers in the office\"},{\"id\":\"478686645\",\"asset_family\":\"creative\",\"caption\":\"A mature man wearing a leather jacket - studio\",\"collection_code\":\"DV\",\"collection_id\":13,\"collection_name\":\"DigitalVision\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/478686645.jpg?v=1&g=fs1|0|DV|86|645&s=1&b=RTRE\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":3937,\"width\":3684},\"title\":\"He has his own sense of style\"},{\"id\":\"103059150\",\"asset_family\":\"creative\",\"caption\":null,\"collection_code\":\"PHA\",\"collection_id\":67,\"collection_name\":\"PhotoAlto Agency RF Collections\",\"display_sizes\":[{\"is_watermarked\":false,\"name\":\"thumb\",\"uri\":\"http://cache1.asset-cache.net/xt/103059150.jpg?v=1&g=fs1|0|PHA|59|150&s=1&b=RjI4\"}],\"license_model\":\"royaltyfree\",\"max_dimensions\":{\"height\":5256,\"width\":3508},\"title\":\"Young woman window shopping\"}]}".utf8Encoded
        }
    }
}

private extension String {
    var urlEscaped: String {
        return self.addingPercentEncoding(withAllowedCharacters: .urlHostAllowed)!
    }
    
    var utf8Encoded: Data {
        return self.data(using: .utf8)!
    }
}
